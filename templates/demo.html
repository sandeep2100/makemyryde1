{% extends 'base.html' %}
{% block content %}
{% load static %}


<label for="coupon_code">Coupon Code:</label>
<input type="text" id="coupon_code">
<button id="apply_coupon">Apply Coupon</button>

<p>Original Price: $<span id="original_price">1000</span></p>
<p>Discounted Price: $<span id="discounted_price">{{ discounted_price }}</span></p>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        const originalPriceElement = document.getElementById("original_price");
        const discountedPriceElement = document.getElementById("discounted_price");
        const couponCodeInput = document.getElementById("coupon_code");
        const applyCouponButton = document.getElementById("apply_coupon");

        applyCouponButton.addEventListener("click", function () {
            const couponCode = couponCodeInput.value;

            // You can implement a dictionary or object containing coupon codes and their discounts.
            const couponCodes = {
                "COUPON123": 0.2, // 20% discount
                // Add more coupon codes and discounts as needed
            };

            if (couponCode in couponCodes) {
                const discountAmount = couponCodes[couponCode];
                const originalPrice = parseFloat(originalPriceElement.textContent);
                const discountedPrice = originalPrice - (originalPrice * discountAmount);

                // Update the displayed prices.
                originalPriceElement.textContent = originalPrice.toFixed(2);
                discountedPriceElement.textContent = discountedPrice.toFixed(2);
            } else {
                alert("Invalid coupon code. Please try again.");
            }
        });
    });
</script>


{% endblock %}