<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <title>Makemyryde</title>

    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="makemyryde.com">
    <meta name="description" content="Makemyryde">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JS (Popper.js and jQuery are required for Bootstrap) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAX0OjsvGZFaLvdaYyOvaWvRmSpnEqVNIo&libraries=places"></script>
    <script>
        function initialize() {
            var source = document.getElementsByClassName('source');
            var destination = document.getElementsByClassName('destination');


            for (var i = 0; i < source.length; i++) {
            var autocompleteSource = new google.maps.places.Autocomplete(source[i], {
                componentRestrictions: { country: 'in' },
                types: ['(cities)']
            });
            }


                for (var i = 0; i < destination.length; i++) {
                    var autocompleteDestination = new google.maps.places.Autocomplete(destination[i], {
                        componentRestrictions: { country: 'in' },
                        types: ['(cities)']
                    });
            }
        }
        google.maps.event.addDomListener(window, 'load', initialize);

    </script>

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'assets/images/favilogo.png' %}">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>


    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/font-awesome/css/all.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/apexcharts/css/apexcharts.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/choices/css/choices.min.css' %}">

    <!-- Theme CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">

</head>

<body>

<!-- Header START -->
<header class="navbar-light header-sticky">
    <!-- Logo Nav START -->
    <nav class="navbar navbar-expand-xl">
        <div class="container">
            <a class="navbar-brand" href="{% url 'index' %}">
                <img class="light-mode-item navbar-brand-item" src="{% static 'assets/images/makemyrydelogo.png' %}"
                     alt="logo">
                <img class="dark-mode-item navbar-brand-item" src="{% static 'assets/images/makemyrydelogo.png' %}"
                     alt="logo">
            </a>
        </div>
    </nav>
    <!-- Logo Nav END -->
</header>
<!-- Header END -->


<!-- **************** MAIN CONTENT START **************** -->
<main>

    {% block content %}

    {% endblock %}


    {% block script %}{% endblock %}

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
Footer START -->
<footer class="bg-dark p-3">
    <div class="container">
        <div class="row align-items-center">

            <!-- Widget -->
            <div class="col-md-4">
                <div class="text-center text-md-start mb-3 mb-md-0">
                    <a href="#"> <img class="h-30px" src="{% static 'assets/images/makemyrydelogo.png' %}" alt="logo">
                    </a>
                </div>
            </div>

            <!-- Widget -->
            <div class="col-md-4">
                <div class="text-muted text-primary-hover"> Copyrights Â©2023 Makemyryde.</div>
            </div>

            <!-- Widget -->
            <div class="col-md-4">
                <ul class="list-inline mb-0 text-center text-md-end">
                    <li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-facebook"></i></a></li>
                    <li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-instagram"></i></a></li>
                    <li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-linkedin-in"></i></a></li>
                    <li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-twitter"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- =======================
Footer END -->

<!-- Back to top -->
<div class="back-top"></div>

<!-- Bootstrap JS -->
<script src="{% static 'assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>

<!-- Vendors -->
<script src="{% static 'assets/vendor/apexcharts/js/apexcharts.min.js' %}"></script>
<script src="{% static 'assets/vendor/choices/js/choices.min.js' %}"></script>

<!-- ThemeFunctions -->
<script src="{% static 'assets/js/functions.js' %}"></script>

<script>
    $(document).ready(function () {
        $('#viewModal').modal();
    });
</script>


<script>
    // Function to extract the city name before the first comma
    function getCityName(placeName) {
        return placeName.split(',')[0].trim();
    }

    // Get the source and destination elements
    var sourceElement = document.getElementById('source');
    var destinationElement = document.getElementById('destination');

    // Get the full place names from the elements
    var sourceName = sourceElement.textContent;
    var destinationName = destinationElement.textContent;

    // Get the shortened city names
    var shortenedSourceName = getCityName(sourceName);
    var shortenedDestinationName = getCityName(destinationName);

    // Update the elements with the shortened city names
    sourceElement.textContent = shortenedSourceName;
    destinationElement.textContent = shortenedDestinationName;
</script>


<script>
    // JavaScript to show the success alert if it contains content
    const successAlert = document.getElementById('success-alert');
    if (successAlert.textContent.trim() !== '') {
        successAlert.classList.remove('d-none');
    }

    // JavaScript to hide the success alert when the user closes it
    $(document).ready(function() {
        $('#success-alert').on('closed.bs.alert', function () {
            successAlert.classList.add('d-none');
        });
    });
</script>


</body>
</html>